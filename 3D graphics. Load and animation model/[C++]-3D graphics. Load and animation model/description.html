<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Header,0:HeaderFooterSprite,0:Header.NonMtps,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;v=535362C486571614CCA1B8A3C2E9DA1A" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Footer,0:HeaderFooterSprite,0:Footer.NonMtps,1:FooterSock,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;v=767FA1F2FD72542D532E6E1E2F77B0E8" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>3D graphics. Load and animation model.</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="https://i1.code.msdn.s-msft.com/content/common/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="https://i1.code.msdn.s-msft.com/content/common/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>3D graphics. Load and animation model.</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            Windows Forms, Visual Studio 2010, C++, .NET Framework, 3D animations, OpenGL
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            User Interface, Windows Forms, Graphics and 3D, .NET 4
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Desktop
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">8/27/2015</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MIT</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="https://code.msdn.microsoft.com/3D-graphics-Load-and-a2f41faf">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p>There are many file formats. In this example we look at the structure .mdl file. This format is used in such legendary games as Half-Life and Counter-Strike.</p>
<p>Many people wonder how it all works. The example shows how to load a file and animation.</p>
<p>&nbsp;</p>
<p>The main objective of this example to show how to mix managed and unmanaged code. Those interested in 3D graphics just do not find for themselves a lot of interesting things.<br>
<br>
</p>
<h1><span>Building the Sample</span></h1>
<p>For assembly, open the solution in VS, and then build. If you are using the express version, the libraries are not included. In case if you can not find them, then lay out further.</p>
<p><span style="font-size:20px; font-weight:bold">Description</span></p>
<p><em>&nbsp;</em>Quick start.<br>
The results are output.</p>
<p><img id="141716" src="description/sample_mdl.JPG" alt="" width="534" height="341"></p>
<p>&nbsp;</p>
<p>In this case, the window inherits the System :: Windows :: Forms :: Form. HDC we obtain in the usual manner.</p>
<p>&nbsp;</p>
<p></p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C&#43;&#43;</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Из&#1084;енение сценария</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">cplusplus</span>
<pre class="hidden">if (!(hDC=GetDC((HWND)hwnd.ToPointer())))
			MessageBox::Show( &quot;Can't Create A GL Device Context.&quot;,&quot;ERROR&quot;);
</pre>
<div class="preview">
<pre class="cplusplus"><span class="cpp__keyword">if</span>&nbsp;(!(hDC=GetDC((<span class="cpp__datatype">HWND</span>)hwnd.ToPointer())))&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MessageBox::Show(&nbsp;<span class="cpp__string">&quot;Can't&nbsp;Create&nbsp;A&nbsp;GL&nbsp;Device&nbsp;Context.&quot;</span>,<span class="cpp__string">&quot;ERROR&quot;</span>);&nbsp;
</pre>
</div>
</div>
</div>
<p></p>
<p>No additional libraries are required. It should also be said that use OpenGL. But you will not be difficult to rewrite the code of DirectX.</p>
<p>Interaction of managed and unmanaged code in this example is rather complicated. Because of the managed and unmanaged classes.</p>
<p></p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C&#43;&#43;</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Из&#1084;енение сценария</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">cplusplus</span>
<pre class="hidden">public ref class Form1 : public System::Windows::Forms::Form
	{
	public:IntPtr hwnd;
	//public:IntPtr hDC;
	public: HDC hDC;
	public:	GLuint PixelFormat;
	public:	HGLRC	hRC;		// Permanent Rendering Context
	public: static	GLfloat	rtri;				// Angle For The Triangle ( NEW )
	public:	static GLfloat	rquad;				// Angle For The Quad ( NEW )
	public: static CountS *pCountSS;
	public: static double gdAngleX,gdAngleY,gdTransX,gdTransY,gdTransZ;
	private:  double	giX, giY, m_dx,m_dy;
	public: static int keys;
	
	public:
		Form1(void)
		{
			InitializeComponent();


&hellip;
class CountS{
public:

 
struct Vertex
		{
			int m_boneID;	// for skeletal animation
			dfx::vector&lt;&gt; m_location;
			float m_location1[3];
		
		};	


struct Triangle
		{
			float m_vertexNormals[3][3];// Normals to each of vertex of a triangle 
			float m_s[3], m_t[3];// Textural coordinates for a triangle
			int m_vertexIndices[3];//3 tops make a triangle 
			
		};
</pre>
<div class="preview">
<pre class="cplusplus"><span class="cpp__keyword">public</span>&nbsp;ref&nbsp;<span class="cpp__keyword">class</span>&nbsp;Form1&nbsp;:&nbsp;<span class="cpp__keyword">public</span>&nbsp;System::Windows::Forms::Form&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">public</span>:IntPtr&nbsp;hwnd;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__com">//public:IntPtr&nbsp;hDC;</span><span class="cpp__keyword">public</span>:&nbsp;<span class="cpp__datatype">HDC</span>&nbsp;hDC;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">public</span>:&nbsp;&nbsp;&nbsp;&nbsp;GLuint&nbsp;PixelFormat;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">public</span>:&nbsp;&nbsp;&nbsp;&nbsp;HGLRC&nbsp;&nbsp;&nbsp;&nbsp;hRC;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__com">//&nbsp;Permanent&nbsp;Rendering&nbsp;Context</span><span class="cpp__keyword">public</span>:&nbsp;<span class="cpp__keyword">static</span>&nbsp;&nbsp;&nbsp;&nbsp;GLfloat&nbsp;&nbsp;&nbsp;&nbsp;rtri;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__com">//&nbsp;Angle&nbsp;For&nbsp;The&nbsp;Triangle&nbsp;(&nbsp;NEW&nbsp;)</span><span class="cpp__keyword">public</span>:&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">static</span>&nbsp;GLfloat&nbsp;&nbsp;&nbsp;&nbsp;rquad;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__com">//&nbsp;Angle&nbsp;For&nbsp;The&nbsp;Quad&nbsp;(&nbsp;NEW&nbsp;)</span><span class="cpp__keyword">public</span>:&nbsp;<span class="cpp__keyword">static</span>&nbsp;CountS&nbsp;*pCountSS;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">public</span>:&nbsp;<span class="cpp__keyword">static</span><span class="cpp__datatype">double</span>&nbsp;gdAngleX,gdAngleY,gdTransX,gdTransY,gdTransZ;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">private</span>:&nbsp;&nbsp;<span class="cpp__datatype">double</span>&nbsp;&nbsp;&nbsp;&nbsp;giX,&nbsp;giY,&nbsp;m_dx,m_dy;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">public</span>:&nbsp;<span class="cpp__keyword">static</span><span class="cpp__datatype">int</span>&nbsp;keys;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">public</span>:&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Form1(<span class="cpp__keyword">void</span>)&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InitializeComponent();&nbsp;
&nbsp;
&nbsp;
&hellip;&nbsp;
<span class="cpp__keyword">class</span>&nbsp;CountS{&nbsp;
<span class="cpp__keyword">public</span>:&nbsp;
&nbsp;
&nbsp;&nbsp;
<span class="cpp__keyword">struct</span>&nbsp;Vertex&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__datatype">int</span>&nbsp;m_boneID;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__com">//&nbsp;for&nbsp;skeletal&nbsp;animation</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dfx::vector&lt;&gt;&nbsp;m_location;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__datatype">float</span>&nbsp;m_location1[<span class="cpp__number">3</span>];&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;
&nbsp;
<span class="cpp__keyword">struct</span>&nbsp;Triangle&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__datatype">float</span>&nbsp;m_vertexNormals[<span class="cpp__number">3</span>][<span class="cpp__number">3</span>];<span class="cpp__com">//&nbsp;Normals&nbsp;to&nbsp;each&nbsp;of&nbsp;vertex&nbsp;of&nbsp;a&nbsp;triangle&nbsp;</span><span class="cpp__datatype">float</span>&nbsp;m_s[<span class="cpp__number">3</span>],&nbsp;m_t[<span class="cpp__number">3</span>];<span class="cpp__com">//&nbsp;Textural&nbsp;coordinates&nbsp;for&nbsp;a&nbsp;triangle</span><span class="cpp__datatype">int</span>&nbsp;m_vertexIndices[<span class="cpp__number">3</span>];<span class="cpp__com">//3&nbsp;tops&nbsp;make&nbsp;a&nbsp;triangle&nbsp;</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;
</pre>
</div>
</div>
</div>
<p></p>
<p>You can see it in more detail.</p>
<p>&nbsp;</p>
<p>Consider the model itself. It is a set of standard set of vertices, texture, and above all skeletal animation.</p>
<p>&nbsp;</p>
<p>Sample 1. Reload(number key 2-4).</p>
<p><img id="141717" src="description/reload.JPG" alt="" width="707" height="512"></p>
<p>Sample 1. Shot(number key 5-7).</p>
<p><img id="141718" src="description/shot.JPG" alt="" width="638" height="393"></p>
<p>&nbsp;</p>
<p>To move and zoom model use a mouse.</p>
<p>It is important to note that we use for turns quaternion. This allows for smoother animation model.</p>
<p></p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C&#43;&#43;</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Из&#1084;енение сценария</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">cplusplus</span>
<pre class="hidden">quaternion( const dfx::vector&lt; T &gt; &amp;axis, T angle ) {// quaternion
			T scale = ( T )sin( angle / T(2) );

			w = ( T )cos( angle / T(2) );

			x = axis.x * scale;
			y = axis.y * scale;
			z = axis.z * scale;
		
		
		}
		
			friend quaternion operator*( const quaternion &amp;a, const quaternion &amp;b ) {
			const T Qx = a.w * b.x &#43; a.x * b.w &#43; a.y * b.z - a.z * b.y;
			const T Qy = a.w * b.y - a.x * b.z &#43; a.y * b.w &#43; a.z * b.x;
			const T Qz = a.w * b.z &#43; a.x * b.y - a.y * b.x &#43; a.z * b.w;
			const T Qw = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;
			return quaternion( Qw, Qx, Qy, Qz );
		}
</pre>
<div class="preview">
<pre class="cplusplus">quaternion(&nbsp;<span class="cpp__keyword">const</span>&nbsp;dfx::vector&lt;&nbsp;T&nbsp;&gt;&nbsp;&amp;axis,&nbsp;T&nbsp;angle&nbsp;)&nbsp;{<span class="cpp__com">//&nbsp;quaternion</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T&nbsp;scale&nbsp;=&nbsp;(&nbsp;T&nbsp;)sin(&nbsp;angle&nbsp;/&nbsp;T(<span class="cpp__number">2</span>)&nbsp;);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;=&nbsp;(&nbsp;T&nbsp;)cos(&nbsp;angle&nbsp;/&nbsp;T(<span class="cpp__number">2</span>)&nbsp;);&nbsp;
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;axis.x&nbsp;*&nbsp;scale;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;axis.y&nbsp;*&nbsp;scale;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;=&nbsp;axis.z&nbsp;*&nbsp;scale;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">friend</span>&nbsp;quaternion&nbsp;operator*(&nbsp;<span class="cpp__keyword">const</span>&nbsp;quaternion&nbsp;&amp;a,&nbsp;<span class="cpp__keyword">const</span>&nbsp;quaternion&nbsp;&amp;b&nbsp;)&nbsp;{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">const</span>&nbsp;T&nbsp;Qx&nbsp;=&nbsp;a.w&nbsp;*&nbsp;b.x&nbsp;&#43;&nbsp;a.x&nbsp;*&nbsp;b.w&nbsp;&#43;&nbsp;a.y&nbsp;*&nbsp;b.z&nbsp;-&nbsp;a.z&nbsp;*&nbsp;b.y;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">const</span>&nbsp;T&nbsp;Qy&nbsp;=&nbsp;a.w&nbsp;*&nbsp;b.y&nbsp;-&nbsp;a.x&nbsp;*&nbsp;b.z&nbsp;&#43;&nbsp;a.y&nbsp;*&nbsp;b.w&nbsp;&#43;&nbsp;a.z&nbsp;*&nbsp;b.x;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">const</span>&nbsp;T&nbsp;Qz&nbsp;=&nbsp;a.w&nbsp;*&nbsp;b.z&nbsp;&#43;&nbsp;a.x&nbsp;*&nbsp;b.y&nbsp;-&nbsp;a.y&nbsp;*&nbsp;b.x&nbsp;&#43;&nbsp;a.z&nbsp;*&nbsp;b.w;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">const</span>&nbsp;T&nbsp;Qw&nbsp;=&nbsp;a.w&nbsp;*&nbsp;b.w&nbsp;-&nbsp;a.x&nbsp;*&nbsp;b.x&nbsp;-&nbsp;a.y&nbsp;*&nbsp;b.y&nbsp;-&nbsp;a.z&nbsp;*&nbsp;b.z;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="cpp__keyword">return</span>&nbsp;quaternion(&nbsp;Qw,&nbsp;Qx,&nbsp;Qy,&nbsp;Qz&nbsp;);&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;
</pre>
</div>
</div>
</div>
<p></p>
<p>You managed to use a model from Valve! But you can do better!</p>
<p>Good luck.</p>
<p>&nbsp;</p>
<h1>More Information</h1>
<p><em><span id="result_box" lang="en"><span class="hps">3D</span> <span class="hps">
model can be used</span> <span class="hps">only for training</span><span>.</span>
<span class="hps">Commercial use</span> <span class="hps">is prohibited.</span></span></em></p>

</div>


    </div>
</body>
</html>
