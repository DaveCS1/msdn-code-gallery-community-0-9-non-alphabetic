<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="https://assets.onestore.ms/cdnfiles/onestorerolling-1504-29010/shell/v1_1/scss/shell.min.css" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Header,0:sprite;/Areas/Epx/Themes/Windows/Content:0&amp;amp;v=A6B35C5A848C3A8A9BF1D37221BC506C" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Areas/Epx/Themes/Windows/Content/UhfHeader.css?v=635651651043682771" data-do-not-move="true" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:sprite,0:Footer,1:ImageSprite,2:LinkList,2:SelectLocaleFromPopUp;/Areas/Epx/Themes/Windows/Content:0,/Areas/Epx/Themes/WindowsApps/Content:1,/Areas/Epx/Themes/Base/Content:2&amp;amp;v=C7DB9845B2C85AEB1EA63E0840512B49" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>3D Chess game using HTML5 and CSS3 (Windows Store)</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" /><link href="description/81b0c94f-25e9-41b9-834e-97207b2376abBrand.css" type="text/css" rel="Stylesheet" />
        <link href="https://i1.code.msdn.s-msft.com/windowsapps/content/common/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="https://i1.code.msdn.s-msft.com/windowsapps/content/common/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>3D Chess game using HTML5 and CSS3 (Windows Store)</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            HTML5, CSS3, Visual Studio 2013, Windows Store app
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Games, Javascript, HTML5, Animations, CSS3, Windows Store app, requestAnimatio<wbr />nFrame, 3D animations, casual games
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Windows RT
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">5/1/2015</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">Apache License, Version 2.0</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="https://code.msdn.microsoft.com/windowsapps/3D-Chess-game-using-HTML5-695358ea">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p>The 3D chess app is a hybrid HTML5 and CSS3 app. The board is animated using a CSS3 perspective transform and hardware-accelerated rotations (@keyframes rules). CSS3 animations are also used to move, capture, add, and remove pieces from the board. Board
 rotations paint all the chess pieces on an HTML5 &lt;canvas&gt; overlay, moving these animations off the UI thread and onto the GPU.</p>
<p>The app uses a combination of 3D and 2D technologies to provide 3D effects without the development cost of creating full 3D models, such as you might include in a WebGL or Direct3D app.</p>
<p>The following picture shows the chess board in the middle of a board rotation.</p>
<p>&nbsp;</p>
<p><img id="109025" src="description/3Dchess_rotation_small.png" alt="" width="525" height="324"></p>
<p>&nbsp;</p>
<h1>Description</h1>
<p>The main goal of this app is to simulate playing on a real chess board against an actual person, in which touch-based interaction with the board and chess pieces is preferable to a mouse and feels natural (though a mouse works, too). The more specific goals
 of this app are:</p>
<ul>
<li>Provide 3D perspective transforms and rotations on the chess board. This uses CSS3 for hardware-accelerated 3D animations.
</li><li>Board rotations using a hybrid of CSS3 and HTML5. During a rotation, the use of HTML5
<strong>&lt;canvas&gt;</strong> for the chess pieces moves expensive style calculations off the UI thread (to the GPU). The pieces are animated using tracking points on the transformed coordinate plane.
</li><li>Moving, capturing, adding, and removing pieces using CSS3. </li><li>Use of <strong>requestAnimationFrame</strong> for performance-optimized repaints during board rotations.
</li><li>Resetting/rescaling of board and pieces when display size changes. </li><li>Row &amp; column detection. </li><li>Sound effects (when capturing a piece). </li><li>Dynamically updating CSS3 <strong>@keyframes</strong> rules. Importantly, this allows the use of relatively few @keyframes rules to apply to many different pieces with different values.
</li><li>Consistent handling of app state to support different game modes (Start/Play, Add/Remove, Spin, Reach-thru).
</li></ul>
<p>This app does NOT currently demonstrate:</p>
<ul>
<li>Big Blue style AI (it's a 2-player game). </li></ul>
<p>Possible future enhancements:</p>
<ul>
<li>Restricting moves of the chess pieces to legal moves (the simulation is closer to a real chess board, in which you can do what you like). The simulation does do row &amp; column detection, however, to support capturing pieces in the same square. Enforcement
 of legal move could be a future enhancement. </li><li>A complete set of chess pieces. Unlike the 3D board, the pieces are 2D artwork that simulate 3D, and I just needed enough to demonstrate all the concepts working. Supported pieces include: (1) all black &amp; white pawns, (2) all black &amp; white bishops,
 (2) all black &amp; white knights, and (4) the white queen. (Sorry, rooks and kings!)
</li><li>Enforcement of player turns. I did not implement support for playing on two different screens at the same time. This is an option for extending the app.
</li><li>Running in a browser outside the context of a Windows Store app. There is not much WinJS (Win8) dependent code in this app, but to make it a Web app would require another update.
</li><li>Maintenance of app state after termination. </li></ul>
<h1>Building the sample</h1>
<ol>
<li>After downloading, open the sample in Visual Studio 2013. You will need a developer license.
</li><li>Select Local Machine as the debug target. </li><li>Press F5. </li></ol>
<h1>Running the sample</h1>
<ol>
<li>When the app has loaded, press the <strong>Start/Play</strong> button to instruct the app to add the supported pieces to the chess board. (Note: whenever the board is empty, Start/Play will repopulate the board.)
</li><li>To rotate the board, press the 180 deg (Spin) button. </li><li>To add or remove individual pieces, press the Add/Remove button to set Add/Remove mode.
</li></ol>
<h1>More Information</h1>
<p>Related blog posts:</p>
<ul>
<li>Using JavaScript to set @keyframes rules in CSS animations <br>
<a href="http://blogs.msdn.com/b/msdn_answers/archive/2013/11/04/part-i-using-javascript-to-set-keyframes-in-css-animations-windows-store-apps-ie.aspx">http://blogs.msdn.com/b/msdn_answers/archive/2013/11/04/part-i-using-javascript-to-set-keyframes-in-css-animations-windows-store-apps-ie.aspx</a>
</li><li>Running multiple CSS3 and HTML5 animations<br>
<a href="http://blogs.msdn.com/b/msdn_answers/archive/2013/12/05/part-ii-running-multiple-css3-and-html5-animations-windows-store-ie.aspx">http://blogs.msdn.com/b/msdn_answers/archive/2013/12/05/part-ii-running-multiple-css3-and-html5-animations-windows-store-ie.aspx</a>
</li></ul>

</div>


    </div>
</body>
</html>
